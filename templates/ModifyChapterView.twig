{% extends "/layout/layout.twig" %}

{% block navbarContent %}
    {% if isAdmin %}
        <a class="navbar-brand" href="adminView"><img src="img/logo-homepage-resize.png" alt=""></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarmain" aria-controls="navbarmain" aria-expanded="false" aria-label="Toggle navigation">
            <span class="fas fa-bars"></span>
        </button>  
        <div class="collapse navbar-collapse" id="navbarmain">
            <ul class="navbar-nav text-uppercase mr-auto">
                <li class="nav-item">
                    <a href="adminView#publishChapter" class="nav-link">Chapitres publiés</a>
                </li>
                <li class="nav-item">
                    <a href="adminView#pendingChapter" class="nav-link">Chapitres en attente</a>
                </li>
                <li class="nav-item">
                    <a href="adminView#commentModeration" class="nav-link">Modération</a>
                </li>
            </ul>
        </div>
        <a href="getLogout" class="btn navbar-button">Déconnexion</a>
        {% else %}
        <a class="navbar-brand" href="index"><img src="img/logo-homepage-resize.png" alt=""></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarmain" aria-controls="navbarmain" aria-expanded="false" aria-label="Toggle navigation">
            <span class="fas fa-bars"></span>
        </button>  
        <div class="collapse navbar-collapse show" id="navbarmain">
        <ul class="navbar-nav text-uppercase mr-auto">
            <li class="nav-item">
                <a href="#about" class="nav-link ">A propos</a>
            </li>
            <li class="nav-item">
                <a href="#publishChapter" class="nav-link ">Accéder aux chapitres</a>
            </li>
            <li class="nav-item">
                <a href="contact" class="nav-link ">Contact</a>
            </li>
        </ul>
        <div class="text-center">
            <a href="getLogin" class="btn navbar-button"><span class="button-text">Connexion</span></a>
        </div>
    {% endif %}
{% endblock  navbarContent %}

{% block mainHeader %}
<div class="page-title text-center">
    <div class="container page-title-container">
        <p class="page-title-text">Modification du  Chapitre {{ uniqueChapter.id }} :</p>
        <h1 class="text-lead page-title-h1"><span>{{ uniqueChapter.title}}</span></h1>
    </div>
</div>
<hr class="singlePageSeparator">
{% endblock %}

{% block main %}
<section class="container">
    <div class="card my-4 modifyChapterCard">
        <p class="card-header float-right modifyChapterCard-header">
        Publié le 
            <span class="font-italic bold">{{ uniqueChapter.createDate }}</span> 
            par 
            <span class="font-italic bold">{{ uniqueChapter.author }}</span>
        </p>
    </div>
    <div class="container">
        <form action="index.php?page=applyUpdateChapter&chapterId={{ uniqueChapter.id }}" method="post">
            <div class="form-group">
                <label for="chapterTitle" class="h4 bold my-4 text-left">Titre</label>
                <input type="text" class="form-control" id="chapterTitle" name="chapterTitle" value="{{ uniqueChapter.title }}">
                <label for="chapterContent" class="h4 bold my-4">Contenu</label>
                <textarea type="text" class="form-control text-justify" id="chapterContent" name="chapterContent" rows="30" >{{ uniqueChapter.content }}</textarea>
                <div class="text-center">
                    <button type="submit" name="saveAndPublish" class="btn savePublish-btn my-2">Enregistrer et publier</button>
                    <button type="submit" name="saveDraft" class="btn saveDraft-btn my-2">Enregistrer en brouillon</button>
                </div>
            </div>
        </form>
    </div>
    <div class="text-center"> 
        {% if isAdmin %}
            <div class="modifyPage-return text-center">
                <a href="adminView">Retour à la page d'administration</a>
            </div>
        {% endif %} 
    </div>  
</section>  
{% endblock main %}

